# Vercel Deployment Guide for Kotaiah's Sweets & Foods

## Prerequisites
- Vercel account
- GitHub repository connected to Vercel

## Step 1: Set up Vercel Postgres Database

1. Go to your Vercel dashboard
2. Select your project
3. Go to the **Storage** tab
4. Click **Create Database** → **Postgres**
5. Choose a name (e.g., "kotaiah-sweets-db")
6. Select a region close to your users
7. Click **Create**

This will automatically create a `DATABASE_URL` environment variable.

## Step 2: Configure Environment Variables

In your Vercel project settings → **Environment Variables**, add:

### Required Variables:
```
NEXTAUTH_SECRET=your-secure-random-string-here
NEXTAUTH_URL=https://your-project-name.vercel.app
NEXT_PUBLIC_APP_URL=https://your-project-name.vercel.app
```

### Optional Variables:
```
PEXELS_API_KEY=u7b5nuzzKfndPOs9h23LyKoRjGJv6cAmtQRJt0UpU0n1khabdsF2asWM
```

## Step 3: Deploy and Set Up Database

1. **Deploy your project** to Vercel
2. **After deployment**, run the database setup:

```bash
# Connect to your Vercel project
vercel link

# Set up the database (this will create tables and seed data)
npx prisma migrate deploy
npx prisma db seed
```

## Step 4: Verify Deployment

1. Visit your Vercel app URL
2. Check that all category pages show products:
   - `/products/sweets` - Should show 4 products
   - `/products/hot-snacks` - Should show 2 products
   - `/products/pickles` - Should show 2 products
   - `/products/powders` - Should show 2 products
   - `/products/gift-boxes` - Should show 1 product

## Step 5: Test Database Connection

You can test the database connection by visiting:
`https://your-project-name.vercel.app/test-db`

This should show all your products and categories.

## Troubleshooting

### If products don't show:
1. Check Vercel function logs
2. Verify DATABASE_URL is set correctly
3. Run `npx prisma migrate deploy` again
4. Run `npx prisma db seed` to populate data

### If images don't load:
1. Check that all image domains are configured in `next.config.ts`
2. Verify external image URLs are accessible

## Environment Variables Summary

| Variable | Description | Example |
|----------|-------------|---------|
| `DB_URL` | Postgres connection string | Auto-generated by Vercel |
| `NEXTAUTH_SECRET` | Authentication secret | Random 32+ character string |
| `NEXTAUTH_URL` | Your app URL | `https://your-app.vercel.app` |
| `NEXT_PUBLIC_APP_URL` | Public app URL | `https://your-app.vercel.app` |
| `PEXELS_API_KEY` | Pexels API key | Your API key |

## Next Steps After Deployment

1. **Set up custom domain** (optional)
2. **Configure analytics** (optional)
3. **Set up monitoring** (optional)
4. **Test all functionality** thoroughly

Your app should now work exactly like the local version with all products displaying correctly!
